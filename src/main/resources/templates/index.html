<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
    <div id="map" style="height: 50em;"></div>
    <form th:action="@{/search}" method="post">
        <input type="text" name="query" placeholder="Search for a location" required>
        <input type="submit" value="Search">
    </form>
</body>
</html>
<script type="text/javascript" src="countries.js"></script>
<script>
    var map = L.map('map').setView([49.183, -0.35], 13);

    map.createPane('labels');
    map.getPane('labels').style.zIndex = 650;
    map.getPane('labels').style.pointerEvents = 'none';

    var positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
        attribution: '©OpenStreetMap, ©CartoDB'
    }).addTo(map);

    var positronLabels = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png', {
            attribution: '©OpenStreetMap, ©CartoDB',
            pane: 'labels'
    }).addTo(map);

    var geojson = L.geoJson(countries).addTo(map);
    
    geojson.eachLayer(function (layer) {
        layer.bindPopup(layer.feature.properties.name);
    });

map.fitBounds(geojson.getBounds());

    /*
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 30,
    }).addTo(map);
    */
</script>